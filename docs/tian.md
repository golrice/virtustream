# 软件工程课程项目提案：AI虚拟主播系统（VirtuStream）  
## 一、项目名称  
**AI虚拟主播系统（VirtuStream）**  

## 二、项目简要描述  
### （一）项目背景与目标  
随着虚拟主播（Vtuber）在直播领域的快速普及，传统真人直播面临内容生产成本高、互动形式单一等挑战。本项目旨在开发一套**低成本、高扩展性的AI驱动虚拟主播系统**，通过整合语音识别（STT）、自然语言处理（LLM）、语音合成（TTS）及虚拟形象渲染等技术，实现具备**实时聊天交互、多模态内容输出、小游戏互动**能力的虚拟主播解决方案，满足内容创作者对高效直播工具的需求，初步适配哔哩哔哩、抖音等主流直播平台。  

### （二）核心功能与特性  
1. **多模态实时交互**  
   - **语音聊天**：通过STT模块实时解析观众弹幕语音/文字输入，LLM生成自然语言回复，TTS合成语音输出，实现流畅对话，响应延迟目标控制在2秒内。  
   - **表情与动作同步**：基于LLM情感分析结果，动态驱动虚拟形象切换表情（如开心、惊讶）和动作，增强交互真实感。  
2. **轻量化游戏互动**  
   - 支持弹幕参与主播的国际象棋游戏（可以通过弹幕告诉主播如何走下一步棋），观众通过弹幕参与，系统结合LLM生成游戏引导语音与虚拟形象反馈，提升观众粘性。  
3. **多平台兼容与部署**  
   - 通过Socket.IO实现前端与服务端实时通信，虚拟形象通过VTube Studio集成并支持OBS虚拟摄像头推流，适配直播平台接入。  
   - 采用**Docker容器化部署**，支持单机开发与分布式扩展，满足从原型到生产环境的平滑过渡。  
4. **模块化与可扩展性**  
   - 基于**事件驱动架构（EDA）**和**插件化设计**，核心模块（如TTS/LLM）可独立替换或扩展（如切换至开源语音模型），降低技术锁定风险。  

### （三）技术方案概述  
| **维度**         | **技术方案**                                                                 |
|------------------|-----------------------------------------------------------------------------|
| **架构模式**     | 分层架构（交互层/业务层/模型层） + 事件驱动架构（EDA），通过事件总线（Signals）解耦模块 |
| **开发语言**     | Python 3.10（快速开发与生态支持）                                            |
| **实时通信**     | Socket.IO（双向WebSocket通信，适配前端交互）                                   |
| **虚拟形象**     | VTube Studio（低成本集成，支持表情动作控制API）                               |
| **部署工具**     | Docker（容器化） + GitHub Actions（CI/CD自动化）                              |
| **核心模块**     | STT/TTS模块、LLM Wrapper、事件总线、虚拟形象控制模块、小游戏模块、前端通信模块 |

### （四）预期成果与价值  
- **交付物**：  
  - 可运行的AI虚拟主播原型系统，支持语音聊天、表情同步、游戏互动及OBS推流。  
  - 完整技术文档（架构设计、配置指南、测试报告）与用户手册。  
- **课程目标契合点**：  
  - 实践**软件工程全流程**：覆盖需求分析、系统建模、开发测试、部署运维全环节。  
  - 强化**团队协作能力**：分模块开发（LLM/TTS/建模/测试）与集成，培养跨职能协作能力。  
  - 提升**技术落地能力**：将架构设计理论（如模块化、事件驱动）转化为可验证的系统原型。  

### （五）项目计划与分工  
| **阶段**         | **时间**       | **任务详情**                                                                 |
|------------------|----------------|-----------------------------------------------------------------------------|
| **需求与设计**   | 第1-2周        | 用户调研、需求分析文档编写、系统架构设计（含UML建模）                        |
| **开发与测试**   | 第3-5周        | 分模块开发（STT/TTS/LLM/虚拟形象）、单元测试编写、Beta版集成                 |
| **优化与部署**   | 第6周          | 性能调优、平台适配（如抖音弹幕协议）、Docker镜像部署                          |

**团队分工**：  

| 姓名     | 学号     | 职责                                  |
| -------- | -------- | ------------------------------------- |
| 利嘉烽   | 22336130 | 核心模块开发（LLM/TTS/STT）与算法调优 |
| 王祎铭   | 22336234 | 直播平台通信接口开发与集成            |
| 吴阳天朗 | 22336244 | 虚拟形象设计和制作表情、动作集合      |
| 张宇晨   | 22338118 | 核心模块开发（LLM/TTS/STT）与算法调优 |
| 李源卿   | 22336128 | 游戏交互、观众互动逻辑实现            |

## 三、项目创新点  
1. **轻量化架构**：单机Docker部署满足课程作业需求，预留微服务扩展接口，兼顾简单性与可扩展性。  
2. **多场景适配**：集成直播平台弹幕协议与OBS推流，贴近实际应用场景。  
3. **容易替换或增加组件**：插件化设计支持组件替换（如TTS引擎），符合软件工程“开闭原则”。  

## 四、潜在问题与解决方案

| **问题描述**               | **应对策略**                                                                 |
|------------------------|-----------------------------------------------------------------------------|
| LLM响应延迟影响体验    | 采用异步封装（独立子进程） + 轻量级开源模型降低延迟        |
| 模块间消息格式不统一   | 使用Pydantic定义标准化事件结构，通过CI流程强制校验接口兼容性                  |
| 虚拟形象集成复杂度高   | 基于VTube Studio成熟API开发，优先实现基础表情动作，后续迭代扩展细节           |
| 信号系统无队列缓冲，易丢事件 | 使用 asyncio.Queue 替代事件回调机制            |
| 模型模块阻塞主线程           | 使用独立子进程或异步封装提升响应能力           |

**提案人**：利嘉烽、李源卿、吴阳天朗、张宇晨、王祎铭  
**日期**：2025年XX月XX日  